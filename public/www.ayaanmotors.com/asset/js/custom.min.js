//parallax
$(function() {
    parallaxInit('.parallax')
});
// JavaScript custom.js
$(document).ready(function() {
    $(".CustomSelect").select2({
        width: "100%"
    });
    var header_id = $("#JS_headerId").val();
    //alert(header_id);
    if (header_id != 373) {
        // submenu on click
        $('.mobile-dd').on('click', function(event) {
            $('.sub-menu').not($(this).closest('li').find('.sub-menu')).hide();
            $(this).closest('li').find('.sub-menu').slideToggle();
            event.preventDefault();
            return false;
            $('.close_div').fadeOut();
            $(this).next('.sub-menu').stop().slideToggle();
        });
        // submenu_hover
        $('.top-navigation ul > li').hover(function(event) {
            if ($(window).width() > 900) {
                $(this).find('.sub-menu').fadeIn("fast");
            }
            if ($(window).width() < 900) {
                $(".top-navigation ul > li").hover().off();
            }
        }, function(event) {
            $(this).find('.sub-menu').fadeOut("fast");
        });
    }
    // Product List / Grid tab function
    $('.list-grid').click(function() {
        $(this).parent().parent().parent().parent().find(".closeTab").hide();
        var holdtab = $(this).attr('data-tab');
        $('#productList-' + holdtab).show();
    });
    $("#owl-product").owlCarousel({
        autoplay: true,
        autoplayTimeout: 5e3,
        loop: false,
        margin: 10,
        nav: false,
        smartSpeed: 450,
        responsive: {
            0: {
                items: 1
            },
            768: {
                items: 3
            },
            1e3: {
                items: 4
            }
        }
    });
    $("#testimonial_slide").owlCarousel({
        autoplay: true,
        autoplayTimeout: 4e3,
        loop: false,
        margin: 10,
        nav: true,
        dots: true,
        responsive: {
            0: {
                items: 1
            },
            600: {
                items: 1
            },
            1e3: {
                items: 1
            }
        }
    });
    $("#featured_car_slide").owlCarousel({
        autoplay: true,
        autoplayTimeout: 5e3,
        loop: false,
        margin: 10,
        nav: true,
        dots: true,
        responsive: {
            0: {
                items: 1
            },
            600: {
                items: 1
            },
            1e3: {
                items: 1
            }
        }
    });
    $("#featured_car_slide2").owlCarousel({
        autoplay: true,
        autoplayTimeout: 5e3,
        loop: false,
        margin: 10,
        nav: true,
        dots: true,
        responsive: {
            0: {
                items: 1
            },
            600: {
                items: 1
            },
            1e3: {
                items: 1
            }
        }
    });
    $(".owl-carousel").owlCarousel({
        autoplay: false,
        autoplayTimeout: 8e3,
        loop: false,
        margin: 10,
        nav: true,
        responsive: {
            0: {
                items: 1
            },
            600: {
                items: 1
            },
            1e3: {
                items: 1
            }
        }
    });
}); //END DOCUMENT READY FUNCTION

// WINDOW SCROLL FUNCTION START
$(window).scroll(function() {
    var scroll = $(window).scrollTop();
    if (scroll >= 200) {
        $("#header_v1 .top-wrap").addClass("hidetop_header")
    } else if (scroll <= 200) {
        $("#header_v1 .top-wrap").removeClass("hidetop_header")
    }
});
$(window).scroll(function() {
    var scroll = $(window).scrollTop();
    if (scroll >= 155) {
        $("#header_v2 .sticky_navbar").addClass("sticky")
    } else if (scroll <= 155) {
        $("#header_v2 .sticky_navbar").removeClass("sticky")
    }
});
$(window).scroll(function() {
    var scroll = $(window).scrollTop();
    if (scroll >= 120) {
        $("#header_v3 .top-wrap").addClass("hidetop_header")
    } else if (scroll <= 120) {
        $("#header_v3 .top-wrap").removeClass("hidetop_header")
    }
});
$(window).scroll(function() {
    var scroll = $(window).scrollTop();
    if (scroll >= 155) {
        $("#header_v3 .sticky_navbar").addClass("sticky")
    } else if (scroll <= 155) {
        $("#header_v3 .sticky_navbar").removeClass("sticky")
    }
});
$(window).scroll(function() {
    var scroll = $(window).scrollTop();
    if (scroll >= 182) {
        $("#header_v4 .sticky_navbar").addClass("sticky")
    } else if (scroll <= 182) {
        $("#header_v4 .sticky_navbar").removeClass("sticky")
    }
});
$(window).scroll(function() {
    var scroll = $(window).scrollTop();
    if (scroll >= 120) {
        $("#header_v5 .top-wrap").addClass("hidetop_header")
    } else if (scroll <= 120) {
        $("#header_v5 .top-wrap").removeClass("hidetop_header")
    }
});
$(window).scroll(function() {
    var scroll = $(window).scrollTop();
    if (scroll >= 120) {
        $("#header_v5 .sticky_navbar").addClass("sticky")
    } else if (scroll <= 120) {
        $("#header_v5 .sticky_navbar").removeClass("sticky")
    }
});
$(window).scroll(function() {
    var scroll = $(window).scrollTop();
    if (scroll >= 120) {
        $("#header_v6 .top-wrap").addClass("hidetop_header")
    } else if (scroll <= 120) {
        $("#header_v6 .top-wrap").removeClass("hidetop_header")
    }
});
$(window).scroll(function() {
    var scroll = $(window).scrollTop();
    if (scroll >= 120) {
        $("#header_v7 .top-wrap").addClass("sticky")
    } else if (scroll <= 120) {
        $("#header_v7 .top-wrap").removeClass("sticky")
    }
});
$(window).scroll(function() {
    var scroll = $(window).scrollTop();
    if (scroll >= 120) {
        $("#header_v8 .top-wrap").addClass("hidetop_header")
    } else if (scroll <= 120) {
        $("#header_v8 .top-wrap").removeClass("hidetop_header")
    }
});
$(window).scroll(function() {
    var scroll = $(window).scrollTop();
    if (scroll >= 155) {
        $("#header_v9 .sticky_navbar").addClass("sticky")
    } else if (scroll <= 155) {
        $("#header_v9 .sticky_navbar").removeClass("sticky")
    }
});
$(window).scroll(function() {
    var scroll = $(window).scrollTop();
    if (scroll >= 120) {
        $("#header_v9 .top-wrap").addClass("hidetop_header")
    } else if (scroll <= 120) {
        $("#header_v9 .top-wrap").removeClass("hidetop_header")
    }
});
$(window).scroll(function() {
    var scroll = $(window).scrollTop();
    if (scroll >= 120) {
        $("#header_v10 .top-wrap").addClass("hidetop_header")
    } else if (scroll <= 120) {
        $("#header_v10 .top-wrap").removeClass("hidetop_header")
    }
});
$(window).scroll(function() {
    var scroll = $(window).scrollTop();
    if (scroll >= 200) {
        $("#header_v11 .top-wrap").addClass("hidetop_header")
    } else if (scroll <= 200) {
        $("#header_v11 .top-wrap").removeClass("hidetop_header")
    }
});
$(window).scroll(function() {
    var scroll = $(window).scrollTop();
    if (scroll >= 200) {
        $("#header_v11 .sticky_navbar").addClass("sticky")
    } else if (scroll <= 200) {
        $("#header_v11 .sticky_navbar").removeClass("sticky")
    }
});
$(window).scroll(function() {
    var scroll = $(window).scrollTop();
    if (scroll >= 200) {
        $("#header_v12 .top-wrap").addClass("hidetop_header")
    } else if (scroll <= 200) {
        $("#header_v12 .top-wrap").removeClass("hidetop_header")
    }
});
$(window).scroll(function() {
    var scroll = $(window).scrollTop();
    if (scroll >= 200) {
        $("#header_v12 .sticky_navbar").addClass("sticky")
    } else if (scroll <= 200) {
        $("#header_v12 .sticky_navbar").removeClass("sticky")
    }
});
$(window).scroll(function() {
    var scroll = $(window).scrollTop();
    if (scroll >= 170) {
        $("#header_v13 .top-wrap").addClass("hidetop_header")
    } else if (scroll <= 170) {
        $("#header_v13 .top-wrap").removeClass("hidetop_header")
    }
});
$(window).scroll(function() {
    var scroll = $(window).scrollTop();
    if (scroll >= 170) {
        $("#header_v13 .sticky_navbar").addClass("sticky")
    } else if (scroll <= 170) {
        $("#header_v13 .sticky_navbar").removeClass("sticky")
    }
});
$(window).scroll(function() {
    var scroll = $(window).scrollTop();
    if (scroll >= 170) {
        $("#header_v14 .top-wrap").addClass("hidetop_header")
    } else if (scroll <= 170) {
        $("#header_v14 .top-wrap").removeClass("hidetop_header")
    }
});
$(window).scroll(function() {
    var scroll = $(window).scrollTop();
    if (scroll >= 170) {
        $("#header_v14 .sticky_navbar").addClass("sticky")
    } else if (scroll <= 170) {
        $("#header_v14 .sticky_navbar").removeClass("sticky")
    }
});
$(window).scroll(function() {
    var scroll = $(window).scrollTop();
    if (scroll >= 170) {
        $("#header_v15 .top-wrap").addClass("hidetop_header")
    } else if (scroll <= 170) {
        $("#header_v15 .top-wrap").removeClass("hidetop_header")
    }
});
$(window).scroll(function() {
    var scroll = $(window).scrollTop();
    if (scroll >= 170) {
        $("#header_v15 .sticky_navbar").addClass("sticky")
    } else if (scroll <= 170) {
        $("#header_v15 .sticky_navbar").removeClass("sticky")
    }
});
$(window).scroll(function() {
    var scroll = $(window).scrollTop();
    if (scroll >= 170) {
        $("#header_v16 .top-wrap").addClass("hidetop_header")
    } else if (scroll <= 170) {
        $("#header_v16 .top-wrap").removeClass("hidetop_header")
    }
});
$(window).scroll(function() {
    var scroll = $(window).scrollTop();
    if (scroll >= 170) {
        $("#header_v16 .sticky_navbar").addClass("sticky")
    } else if (scroll <= 170) {
        $("#header_v16 .sticky_navbar").removeClass("sticky")
    }
});
$(window).scroll(function() {
    var scroll = $(window).scrollTop();
    if (scroll >= 170) {
        $("#header_v17 .top-wrap").addClass("hidetop_header")
    } else if (scroll <= 170) {
        $("#header_v17 .top-wrap").removeClass("hidetop_header")
    }
});
$(window).scroll(function() {
    var scroll = $(window).scrollTop();
    if (scroll >= 170) {
        $("#header_v17 .sticky_navbar").addClass("sticky")
    } else if (scroll <= 170) {
        $("#header_v17 .sticky_navbar").removeClass("sticky")
    }
});
$(window).scroll(function() {
    var scroll = $(window).scrollTop();
    if (scroll >= 120) {
        $("#header_v18 .top-wrap").addClass("hidetop_header")
    } else if (scroll <= 120) {
        $("#header_v18 .top-wrap").removeClass("hidetop_header")
    }
});
$(window).scroll(function() {
    var scroll = $(window).scrollTop();
    if (scroll >= 155) {
        $("#header_v18 .sticky_navbar").addClass("sticky")
    } else if (scroll <= 155) {
        $("#header_v18 .sticky_navbar").removeClass("sticky")
    }
});
$(window).scroll(function() {
    var scroll = $(window).scrollTop();
    if (scroll >= 150) {
        $("#header_v19 .top-wrap").addClass("hidetop_header")
    } else if (scroll <= 150) {
        $("#header_v19 .top-wrap").removeClass("hidetop_header")
    }
});
$(window).scroll(function() {
    var scroll = $(window).scrollTop();
    if (scroll >= 155) {
        $("#header_v19 .sticky_navbar").addClass("sticky")
    } else if (scroll <= 155) {
        $("#header_v19 .sticky_navbar").removeClass("sticky")
    }
});
$(window).scroll(function() {
    var scroll = $(window).scrollTop();
    if (scroll >= 150) {
        $("#header_v20 .top-wrap").addClass("hidetop_header")
    } else if (scroll <= 150) {
        $("#header_v20 .top-wrap").removeClass("hidetop_header")
    }
});
$(window).scroll(function() {
    var scroll = $(window).scrollTop();
    if (scroll >= 155) {
        $("#header_v20 .sticky_navbar").addClass("sticky")
    } else if (scroll <= 155) {
        $("#header_v20 .sticky_navbar").removeClass("sticky")
    }
});
$(window).scroll(function() {
    var scroll = $(window).scrollTop();
    if (scroll >= 155) {
        $("#header_v21 .sticky_navbar").addClass("sticky")
    } else if (scroll <= 155) {
        $("#header_v21 .sticky_navbar").removeClass("sticky")
    }
});
$(window).scroll(function() {
    var scroll = $(window).scrollTop();
    if (scroll >= 155) {
        $("#header_v21 .top-wrap").addClass("hidetop_header")
    } else if (scroll <= 155) {
        $("#header_v21 .top-wrap").removeClass("hidetop_header")
    }
});
$(window).scroll(function() {
    var scroll = $(window).scrollTop();
    if (scroll >= 155) {
        $("#header_v22 .sticky_navbar").addClass("sticky")
    } else if (scroll <= 155) {
        $("#header_v22 .sticky_navbar").removeClass("sticky")
    }
});
$(window).scroll(function() {
    var scroll = $(window).scrollTop();
    if (scroll >= 155) {
        $("#header_v22 .top-wrap").addClass("hidetop_header")
    } else if (scroll <= 155) {
        $("#header_v22 .top-wrap").removeClass("hidetop_header")
    }
});

// mobile prodtct finance table on click slidetoggle
var windowSize = window.outerWidth;
$(".table-btn a.resultfinancebtn").click(function() {
    $(".table-2").slideToggle("slow");
});

// stocklist search bar_v1,v2,v3,v4,v4 / Tabing form
function openCity(evt, cityName) {
    var i, tabcontent, tablinks;
    tabcontent = document.getElementsByClassName("tabcontent");
    for (i = 0; i < tabcontent.length; i++) {
        tabcontent[i].style.display = "none"
    }
    tablinks = document.getElementsByClassName("tablinks");
    for (i = 0; i < tablinks.length; i++) {
        tablinks[i].className = tablinks[i].className.replace(" active", "")
    }
    document.getElementById(cityName).style.display = "block";
    evt.currentTarget.className += " active";
    location.hash = "#" + cityName + "div"
}
$(".to-enq").click(function(e) {
    var position = $($(this).attr("href")).offset().top;
    $("body, html").animate({
        scrollTop: position
    }, 900)
});
$(window).scroll(function() {
    var scroll = $(window).scrollTop();
    if (scroll >= 118) {
        $(".sticky_navbar").addClass("sticky")
    } else if (scroll <= 118) {
        $(".sticky_navbar").removeClass("sticky")
    }
});
$(".readmorelabel").on("click", function() {
    var tar = $(this).attr("labelid");
    $("#readlabel-" + tar).hide()
});

function openCity2(evt, cityName, tab_class, tab_link) {
    $(document).on("click", ".tablinks", function() {
        var i, tabcontent, tablinks;
        tabcontent = document.getElementsByClassName(tab_class);
        for (i = 0; i < tabcontent.length; i++) {
            tabcontent[i].style.display = "none";
        }
        tablinks = document.getElementsByClassName(tab_link);
        for (i = 0; i < tablinks.length; i++) {
            tablinks[i].className = tablinks[i].className.replace(" active", "");
        }
        document.getElementById(cityName).style.display = "block";
        $(this).addClass("active");
    });
}
// END CODE

// Image imgDefer 
function init() {
    var imgDefer = document.getElementsByTagName('img');
    for (var i = 0; i < imgDefer.length; i++) {
        if (imgDefer[i].getAttribute('data-src')) {
            imgDefer[i].setAttribute('src', imgDefer[i].getAttribute('data-src'));
        }
    }
}
window.onload = init;

$("#carstock_v1 .car-modal").hover(function() {
    var currClass = $(this).attr("id");
    $("#stock_color_v1").removeClass().addClass("stock-info-title").addClass(currClass)
});
$("#carstock_v1 .car-modal").mouseleave(function() {
    var currClass = $(this).attr("id");
    $("#stock_color_v1").removeClass(currClass)
});
$("#carstock_v2 .car-modal").hover(function() {
    var currClass = $(this).attr("id");
    $("#stock_color_v2").removeClass().addClass("stock-info-title").addClass(currClass)
});
$("#carstock_v2 .car-modal").mouseleave(function() {
    var currClass = $(this).attr("id");
    $("#stock_color_v2").removeClass(currClass)
});

function change_div(A, B, C = 0) {
    var xmlhttp;
    //var divid = 'div_model';
    var divid = 'modelsr';
    if (B == 'sold') {
        var php = '/templates/php_files/get_sold_model.php';
    } else {
        var php = '/templates/php_files/get_model.php';
    }
    if (window.XMLHttpRequest) {
        xmlhttp = new XMLHttpRequest();
    } else {
        xmlhttp = new ActiveXObject("Microsoft.XMLHTTP");
    }
    xmlhttp.onreadystatechange = function() {
        if (xmlhttp.readyState == 4 && xmlhttp.status == 200) {
            document.getElementById(divid).innerHTML = xmlhttp.responseText;
        }
    }
    //document.getElementById(divid).innerHTML= "<h1 style='color: #000; font-size: 20px; font-weight: 200;'>Loading...</h1>";
    // POST STYLE
    var parameters = "MAKE=" + A;
    if (C != 0) {
        parameters += "&frompage=" + C;
    }
    //alert(parameters);
    xmlhttp.open("POST", php, true);
    xmlhttp.setRequestHeader("Content-type", "application/x-www-form-urlencoded");
    xmlhttp.send(parameters);
    //document.getElementById('div_model').innerHTML = M[A];
}